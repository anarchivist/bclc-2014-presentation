<!DOCTYPE html>
<head>
<meta charset="utf-8">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
<style>
  html { background-color: black; }
  body { background-color: white; border-radius: 12px}
  /* A section is a slide. It's size is 800x600, and this will never change */
  section {
      font-family: Arial, serif;
      font-size: 20pt;
    }
  address, blockquote, dl, fieldset, form, h1, h2, h3, h4, h5, h6, hr, ol, p, pre, table, ul, dl { padding: 10px 20px 10px 20px; }
  h1, h2, h3 {
    text-align: center;
    margin: 10pt 10pt 20pt 10pt;
  }
  ul, ol {
    margin: 10px 10px 10px 50px;
  }
  section.titleslide h1 { margin-top: 200px; }
  h1.title { margin-top: 150px; }
  h1 { font-size: 180%; }
  h2 { font-size: 120%; }
  h3 { font-size: 100%; }
  q { quotes: "“" "”" "‘" "’"; }
  blockquote { font-style: italic }
  /* Figures are displayed full-page, with the caption on
     top of the image/video */
  figure {
    background-color: black;
  }
  figcaption {
    margin: 70px;
  }
  footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    padding: 40px;
    text-align: right;
    background-color: #F3F4F8;
    border-top: 1px solid #CCC;
  }

  /* Transition effect */
  /* Feel free to change the transition effect for original
     animations. See here:
     https://developer.mozilla.org/en/CSS/CSS_transitions
     How to use CSS3 Transitions: */
  section {
      -moz-transition: left 400ms linear 0s;
      -webkit-transition: left 400ms linear 0s;
      -ms-transition: left 400ms linear 0s;
      transition: left 400ms linear 0s;
  }

  /* Before */
  section { left: -150%; }
  /* Now */
  section[aria-selected] { left: 0; }
  /* After */
  section[aria-selected] ~ section { left: +150%; }

  /* Incremental elements */

  /* By default, visible */
  .incremental > * { opacity: 1; }

  /* The current item */
  .incremental > *[aria-selected] { color: red; opacity: 1; }

  /* The items to-be-selected */
  .incremental > *[aria-selected] ~ * { opacity: 0.2; }
</style>
</head>
<body>
<section id="first" class="slide level1">
<h1>Among Place and Non-Place</h1>
<h2 id="situating-the-digital-public-library-of-america">Situating the Digital Public Library of America</h2>
<p>Mark A. Matienzo<br />Digital Public Library of America<br /><span class="citation" data-cites="anarchivist">@anarchivist</span></p>
<p>British Columbia Library Association<br />April 1, 2014</p>
<p>Slides: <a href="http://matienzo.org/presentations/">http://matienzo.org/presentations/</a></p>
</section>
<section id="what-is-dpla" class="slide level1 takahashi">
<h1>What is DPLA?</h1>
<div class="note" role="note">
To start, I would first like to ask you a few questions.<br />How many of you have heard of the Digital Public Library of America before?<br />How many of you have used DPLA?<br />If you're not familiar with DPLA, that's alright - I do understand that I'm in Canada. The Digital Public Library of America brings together the riches of America’s libraries, archives, and museums, and makes them freely available to the world. It strives to contain the full breadth of human expression, from the written word, to works of art and culture, to records of America’s heritage, to the efforts and data of science. The DPLA aims to expand this crucial realm of openly available materials, and make those riches more easily discovered and more widely usable and used.
</div>
</section>
<section id="the-dpla-is-..." class="slide level1">
<h1>The DPLA is ...</h1>
<div class="incremental">
<h2>a <span class="glow">Portal</span></h2>
<h2>a <span class="glow">Platform</span></h2>
<h2>an advocate for the <span class="glow">Public Option</span></h2>
</div>
<div class="note" role="note">
We describe DPLA in three ways:<br />First, DPLA is a portal that delivers students, teachers, scholars, and the public to incredible resources, wherever they may be in America.<br />Secondly, DPLA is a platform that enables new and transformative uses of our digitized cultural heritage.<br />Thirdly, DPLA is an advocate for a strong public option in the twenty-first century. The DPLA works, along with like-minded organizations and individuals, to ensure that a critical, open intellectual landscape remains vibrant and broad in the face of increasingly restrictive digital options. The DPLA seeks to multiply openly accessible materials to strengthen the public option that libraries represent in their communities.
</div>
</section>
<section id="a-portal-for-discovery" class="slide level1 takahashi">
<h1>A <span class="glow">Portal</span> for Discovery</h1>
<h2 id="httpdp.la"><a href="http://dp.la">http://dp.la/</a></h2>
</section>
<section class="slide level1">

<figure>
<img src="images/portal-1.png" alt="http://dp.la/" /><figcaption>http://dp.la/</figcaption>
</figure>
<div class="note" role="note">
When you first visit DPLA's portal, you are given a variety of ways to find cultural materials.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/portal-2.png" alt="http://dp.la" /><figcaption>http://dp.la</figcaption>
</figure>
<div class="note" role="note">
For example, you can perform simple searches, sort the results, and filter them by format, contributing institution or partner, date, language, location, or subject.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/timeline.png" alt="http://dp.la/timeline" /><figcaption>http://dp.la/timeline</figcaption>
</figure>
<div class="note" role="note">
In addition to a familiar search paradigm, we provide a few additional interfaces that allow users to find and interact with collections in new ways.<br />For example, we provide a timeline, which presents groupings of items or search results grouped by the date of creation or publication in an easy to browse format. This can make it easier for some users to browse large result sets.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/bookshelf-1.png" alt="http://dp.la/bookshelf" /><figcaption>http://dp.la/bookshelf</figcaption>
</figure>
<div class="note" role="note">
The DPLA Bookshelf provides is yet another way that we provide an innovative mechanism for users to interact with materials available through our portal.<br />The items on Bookshelf represent digitized books available through the portal, from providers such as the University of California, the University of Illinois, and the New York Public Library.<br />The shelf is shown as a vertical stack so that the titles and authors are more easily readable on their spines.<br />The width of the book represents the actual height of the physical book, and its thickness represents its page count.<br />The spine is colored with one of ten depths of blue to indicate how relevant the work is to the reader’s search.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/bookshelf-2.png" alt="http://dp.la/bookshelf" /><figcaption>http://dp.la/bookshelf</figcaption>
</figure>
<div class="note" role="note">
When a reader clicks on one of the books, additional information about it is displayed to its right. The reader can open the book with the click of a button.<br />Further, when a reader clicks on a book, the DPLA Bookshelf displays thumbnails of images within the DPLA collection related to that book’s subject areas.<br />Clicking on a thumbnail displays the image and additional information about it.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/bookshelf-3.png" alt="http://dp.la/bookshelf" /><figcaption>http://dp.la/bookshelf</figcaption>
</figure>
<div class="note" role="note">
In addition, can explore further by clicking on one of the subjects under which the book has been categorized.<br />This replaces the existing shelf with a shelf containing all the other books in the DPLA collection categorized under that same subject.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/map-1.png" alt="http://dp.la/map" /><figcaption>http://dp.la/map</figcaption>
</figure>
<div class="note" role="note">
We also provide a map-based interface that allows users to identify the places associated with a given item. I'll be talking about the map, how we augment the data we receive to produce this map, and some of the issues we've identified in the process, later in the presentation.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/exhibitions-1.png" alt="http://dp.la/exhibitions" /><figcaption>http://dp.la/exhibitions</figcaption>
</figure>
<div class="note" role="note">
In addition to these interfaces I've just discussed, DPLA also provides curated exhibitions that provide topical or historical context to some of the items to which we enable access.
</div>
</section>
<section id="a-platform-to-build-on" class="slide level1 takahashi">
<h1>A <span class="glow">Platform</span> to Build On</h1>
<div class="note" role="note">
The DPLA platform is one of the most important parts of our technical infrastructure.<br />It provides us as well as our users with the ability to search and retrieve metadata ingested from our service hubs and content hubs.<br />In fact, the Platform directly provides this functionality to the DPLA portal.<br />Most importantly, we provide free and open access to the Platform and the metadata available from within it.
</div>
</section>
<section id="how-is-it-free" class="slide level1 takahashi">
<h1>How is it free?</h1>
<h2 id="cc0-license" class="incremental"><img src="images/cc-zero.png" alt="CC0 License" /></h2>
<div class="note" role="note">
The DPLA platform is one of the most important parts of our technical infrastructure.<br />It provides us as well as our users with the ability to search and retrieve metadata ingested from our service hubs and content hubs.<br />In fact, the Platform directly provides this functionality to the DPLA portal.<br />Most importantly, we provide free and open access to the Platform and the metadata available from within it.
</div>
</section>
<section id="platform-data" class="slide level1">
<h1>Platform Data</h1>
<figure>
<img src="images/platform-data.png" alt="http://dp.la/info/developers/download/" /><figcaption>http://dp.la/info/developers/download/</figcaption>
</figure>
<div class="note" role="note">
You can access our data in two ways.<br />First, you can visit our website, and download all the data.
</div>
</section>
<section id="the-dpla-api" class="slide level1 takahashi">
<h1>The DPLA API</h1>
<h2 id="access-to-millions-of-items-for-any-purpose">Access to millions of items, for any purpose</h2>
<div class="note" role="note">
But the DPLA is not just a database or a website.<br />It provides a set of tools that anyone can use to build their own application or interface on top of the DPLA’s aggregated data.<br />This toolset is called an Application Programming Interface (API).<br />APIs let computer programs talk to other computer programs, enabling application components to fit together like Lego blocks.<br />Right now, the API gets more hits than the portal!
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/metadata-flow.png" />
</figure>
<div class="note" role="note">
What powers the platform, the portal, and apps is our metadata within the platform.<br />DPLA harvests metadata in many different formats, such as Dublin Core, MODS, MARCXML, and others. As part of the process to bring in a partner's metadata, we map the incoming data to our Metadata Application Profile. In this process, we also enrich the data.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/app-library.png" alt="http://dp.la/apps" /><figcaption>http://dp.la/apps</figcaption>
</figure>
<div class="note" role="note">
We encourage to build applications and interfaces using our API. We also provide a public app library within which people can submit what they build to help with promotion. In addition to the apps listed here, apps submitted to the library include OpenPics, an iOS application for access to cultural heritage images, several map-based visualizations, and Serendip-o-matic, a tool that analyzes your research materials for keywords and finds related items on DPLA and other sources.
</div>
</section>
<section id="a-strong-public-option" class="slide level1 takahashi">
<h1>A Strong <br/><span class="glow">Public Option</span></h1>
<div class="note" role="note">
For most of American history, the ability to access materials for free through public libraries has been a central part of our culture.<br />The DPLA works, along with like-minded organizations and individuals, to ensure that this critical, open intellectual landscape remains vibrant and broad in the face of increasingly restrictive digital options.<br />The DPLA seeks to multiply openly accessible materials to strengthen the public option that libraries represent in their communities.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/knight-challenge.png" />
</figure>
<div class="note" role="note">
As an aggregator of metadata from many institutions, DPLA is in a unique position to help our partners recognize and manage data quality issues.<br />In October 2013, Europeana and the DPLA organized a first joint rights management workshop to explore this possibility in Boston, Massachusetts.<br />As a result of further discussions between the DPLA and Europeana, a small joint working group to explore the possibilities for concrete collaborations in more detail has been established. This important work will, above all, make rights clear to the end user and provide a framework for aggregators and our partners.<br />With the creation and standardization of actionable rights statements, users will know when a work is in the Public Domain, covered under a Creative Commons license or is Rights Restricted, among other possible labels. In addition, we recently submitted an entry to the Knight Foundation's Knight News Challenge to potentially support this work.
</div>
</section>
<section id="how-is-this-possible" class="slide level1 takahashi">
<h1>How is this possible?</h1>
<div class="note" role="note">
Now, you may wonder how this is possible, because those 5.8 million items had to come from somewhere.
</div>
</section>
<section id="dpla-hubs" class="slide level1 takahashi">
<h1>DPLA Hubs</h1>
<div class="note" role="note">
We have a partnership model which we refer to as our &quot;hubs model.&quot;<br />The Hubs Program is designed to establish a national network of state and regional digital libraries, as well as large institutional digital libraries.<br />The hubs model allows us to bring together digitized content from across the country into a single access point for end users, and an open platform for developers.
</div>
</section>
<section id="content-hubs" class="slide level1">
<h1>Content Hubs</h1>
<figure>
<img src="images/content-hubs.png" />
</figure>
<div class="note" role="note">
The DPLA Content Hubs are large digital libraries, museums, archives, or repositories that maintain a one-to-one relationship with the DPLA.<br />Content hubs tend to be larger, with collections exceeding 250K records and content previews (such as thumbnails or low resolution clips of audio/visual material). Content hubs work with DPLA to globalize their data, meaning that they work with DPLA to normalize, clean, update their data, and investigate new methods for data sharing.
</div>
</section>
<section id="service-hubs" class="slide level1">
<h1>Service Hubs</h1>
<figure>
<img src="images/service-hubs.png" />
</figure>
<div class="note" role="note">
The DPLA Service Hubs are state or regional digital libraries that aggregate information about digital objects from libraries, archives, museums, and other cultural heritage institutions within its given state or region.<br />Like content hubs, service hubs share data and content previews and work iwth DPLA to globalize their data. In addition, service hubs also represent their community as single metadata aggregation point (state, region, etc., but perhaps differently defined communities in the future).<br />Each Service Hub also offers its state or regional partners a full menu of standardized digital services, including digitization, metadata, data aggregation and storage services, as well as locally hosted community outreach programs, bringing users in contact with digital content of local relevance.<br />
</div>
</section>
<section id="a-network-of-partners" class="slide level1">
<h1>A Network of Partners</h1>
<figure>
<img src="images/partners.png" />
</figure>
<div class="note" role="note">
But, the DPLA is really made up of over 1,100 partners--institutions and organizations from across the US--that provide content to or are hosted by (or have some other relationship with) our Hubs. In turn, the Hubs serve up this content to DPLA.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/hub-comparison.png" alt="Comparison of partnership models" /><figcaption>Comparison of partnership models</figcaption>
</figure>
<div class="note" role="note">
WHY THE THE HUBS MODEL? Sustainability! <br />The image on the left shows that one-to-one partnerships can be resource intensive, requiring more staffing and processing power to ingest and update, and to continually manage the variety of individual metadata standards and quality and feed types.<br />The image on the right, however, represents that the Service and Content Hubs model supports the sharing of responsibilities for metadata management and feeds. It encourages collaboration, which in turn increases the likelihood of more complete and higher quality metadata and sustainable curation models.
</div>
</section>
<section class="slide level1">

<p><a href="https://commons.wikimedia.org/wiki/File:Ciclo_hidrol%C3%B3gico_da_%C3%A1gua.png"><img src="images/water-cycle.png" alt="Hydrologic cycle" /></a></p>
<div class="note" role="note">
I like to think of us more like a water cycle, wherein all partners play an equally visible and valuable role in the content sharing process.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/maxwell-1.png" alt="Rudolph Volk and Martin Klein in an old automobile, east of St. Peter, Minnesota, 1907?. Nicollet County Historical Society, Minnesota Digital Library" /><figcaption>Rudolph Volk and Martin Klein in an old automobile, east of St. Peter, Minnesota, 1907?. Nicollet County Historical Society, Minnesota Digital Library</figcaption>
</figure>
<div class="note" role="note">
For example, The Maxwell automobile company was formed in 1904 and ceased to exist in 1925.<br />You love Maxwell cars: How do you know that the image even exists?
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/maxwell-2.png" />
</figure>
<div class="note" role="note">
This image is from the Nicollet County Historical Society in St. Peter, Minnesota.<br />NCHS doesn’t have a digital collection on their website.<br />You’ve never heard of Nicollet County or even St. Peter, since you don't live in Minnesota.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/maxwell-3.png" />
</figure>
<div class="note" role="note">
Luckily, NCHS works with the Minnesota Digital Library, which manages their digital collections. Luckily, MDL works with DPLA.<br />And, luckily for you, you’ve found DPLA and all of the Maxwell Automobile images available from six institutions across the US, including that one from the NCHS.
</div>
</section>
<section class="slide level1">

<figure>
<img src="images/maxwell-4.png" />
</figure>
<div class="note" role="note">
The luck continues--now you know about MDL because you’ve followed the link back to their site to see that awesome image.<br />And, maybe now you know that the NCHS exists.<br />And, just maybe you’ll visit their site, contact them, or spread the good word about how you found that image and where it comes from.
</div>
</section>
<section id="hubs-as-local-connections" class="slide level1 takahashi">
<h1>Hubs as Local Connections</h1>
<div class="note" role="note">
As you can see, the hubs model allows local collections to become more easily discoverable.<br />The hubs that assist us with bringing that content, as well as the partners that provide their hub with content, both serve a vital function.<br />The hubs help mediate the relationship between the partners and DPLA.<br />The partners are the local institutions with direct expertise and knowledge in the collections and the related subjects.<br />Specifically, the partners and hubs provide an important <em>local</em> connection.
</div>
</section>
<section id="public-library-partnerships-project" class="slide level1">
<h1>Public Library Partnerships Project</h1>
<p>Funded by Bill and Melinda Gates Foundation<br />Partnering with four service hubs:</p>
<ul>
<li>Digital Commonwealth</li>
<li>Digital Library of Georgia</li>
<li>Minnesota Digital Library</li>
<li>Mountain West Digital Library</li>
</ul>
<p><a href="http://dp.la/info/about/projects/public-library-partnerships/">http://dp.la/info/about/projects/public-library-partnerships/</a></p>
<div class="note" role="note">
DPLA has another opportunity to help strengthen the local connection between service hubs and the areas they serve.<br />With the Public Library Partnerships Project, DPLA has the opportunity to provide public librarians in a small number of states with digital skills training.<br />This project also allows public librarians in libraries with special collections to connect with their local service hub, which can provide additional resources at the state or regional level.<br />The project will host 12 total workshops that will reach approximately 180 public librarians, teaching skills such as writing for the web, exhibition development, and understanding intellectual property rights.<br />At the conclusion of the project, we will release a public version of the training materials that others can reuse. Through PLPP, more public library content will appear in DPLA.<br />Although the quality and sustainability of relationships between DPLA, Hubs, and public libraries is the bigger project priority, we will also be happy to grow our number of public library partners and establish an even stronger local connection.
</div>
</section>
<section id="personal-connections" class="slide level1 takahashi">
<h1>Personal Connections</h1>
<div class="note" role="note">
Of course, the hubs model allows us to do one kind of outreach.<br />In addition to undertaking outreach to librarians and archivists, DPLA should also provide outreach to the general public However, the DPLA staff is small, with seven current employees. How can we improve outreach to new communities with this limitation, plus further limitations on our travel budgets?
</div>
</section>
<section id="community-reps" class="slide level1 takahashi">
<h1>Community Reps</h1>
<div class="note" role="note">
In September 2013, DPLA staff conceived of a program of community representatives, or volunteers that would help spread the word about DPLA. While DPLA was still in its planning phase, my colleagues found that our web forums and committees provided a forum for interested and motivated people to help out and give us feedback. After transitioning to its own organization, we wanted to provide a means for people to get involved.
</div>
</section>
<section id="responsibilities-of-community-reps" class="slide level1">
<h1>Responsibilities of Community Reps</h1>
<ul>
<li>Organize activities that promote DPLA using DPLA materials</li>
<li>Share materials and feedback from outreach efforts</li>
<li>Check in with DPLA staff about progress and share experiences</li>
<li>Be willing to participate in speaking or event opportunities as requested by DPLA</li>
<li>Represent DPLA formally as an acknowledged Rep on our website and informally through various networks</li>
</ul>
</section>
<section id="thank-you" class="slide level1">
<h1>Thank You!</h1>
<p><a href="https://twitter.com/anarchivist">@anarchivist</a></p>
<p><script type="text/javascript">
<!--
h='&#x6d;&#x61;&#116;&#x69;&#x65;&#110;&#122;&#x6f;&#46;&#x6f;&#114;&#x67;';a='&#64;';n='&#x6d;&#x61;&#114;&#x6b;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#x6d;&#x61;&#114;&#x6b;&#32;&#x61;&#116;&#32;&#x6d;&#x61;&#116;&#x69;&#x65;&#110;&#122;&#x6f;&#32;&#100;&#x6f;&#116;&#32;&#x6f;&#114;&#x67;</noscript></p>
<p><a href="http://matienzo.org/presentations">http://matienzo.org/presentations</a></p>
<div class="note" role="note">
Closing slide notes.
</div>
</section>
<!-- insert before include-after-body-slides -->
<link rel="stylesheet" href="assets/presentation.css">
<script src="assets/starterdeck.js"></script>
<script src="assets/custom.js"></script>
<!-- <script src="http://localhost:35729/livereload.js"></script> -->
<!-- {{{{ dzslides core
#
#
#     __  __  __       .  __   ___  __
#    |  \  / /__` |    | |  \ |__  /__`
#    |__/ /_ .__/ |___ | |__/ |___ .__/ core :€
#
#
# The following block of code is not supposed to be edited.
# But if you want to change the behavior of these slides,
# feel free to hack it!
#
-->

<div id="progress-bar"></div>

<!-- Default Style -->
<style>
  * { margin: 0; padding: 0; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
  [role="note"] { display: none; }
  body {
    width: 800px; height: 600px;
    margin-left: -400px; margin-top: -300px;
    position: absolute; top: 50%; left: 50%;
    overflow: hidden;
    display: none;
  }
  .view body {
    position: static;
    margin: 0; padding: 0;
    width: 100%; height: 100%;
    display: inline-block;
    overflow: visible; overflow-x: hidden;
    /* undo Dz.onresize */
    transform: none !important;
    -moz-transform: none !important;
    -webkit-transform: none !important;
    -o-transform: none !important;
    -ms-transform: none !important;
  }
  .view head, .view head > title { display: block }
  section {
    position: absolute;
    pointer-events: none;
    width: 100%; height: 100%;
  }
  .view section {
    pointer-events: auto;
    position: static;
    width: 800px; height: 600px;
    margin: -150px -200px;
    float: left;

    transform: scale(.4);
    -moz-transform: scale(.4);
    -webkit-transform: scale(.4);
    -o-transform: scale(.4);
    -ms-transform: scale(.4);
  }
  .view section > * { pointer-events: none; }
  section[aria-selected] { pointer-events: auto; }
  html { overflow: hidden; }
  html.view { overflow: visible; }
  body.loaded { display: block; }
  .incremental {visibility: hidden; }
  .incremental[active] {visibility: visible; }
  #progress-bar{
    bottom: 0;
    position: absolute;
    -moz-transition: width 400ms linear 0s;
    -webkit-transition: width 400ms linear 0s;
    -ms-transition: width 400ms linear 0s;
    transition: width 400ms linear 0s;
  }
  .view #progress-bar {
    display: none;
  }
</style>

<script>
  var Dz = {
    remoteWindows: [],
    idx: -1,
    step: 0,
    html: null,
    slides: null,
    progressBar : null,
    params: {
      autoplay: "1"
    }
  };

  Dz.init = function() {
    document.body.className = "loaded";
    this.slides = Array.prototype.slice.call($$("body > section"));
    this.progressBar = $("#progress-bar");
    this.html = document.body.parentNode;
    this.setupParams();
    this.onhashchange();
    this.setupTouchEvents();
    this.onresize();
    this.setupView();
  }

  Dz.setupParams = function() {
    var p = window.location.search.substr(1).split('&');
    p.forEach(function(e, i, a) {
      var keyVal = e.split('=');
      Dz.params[keyVal[0]] = decodeURIComponent(keyVal[1]);
    });
  // Specific params handling
    if (!+this.params.autoplay)
      $$.forEach($$("video"), function(v){ v.controls = true });
  }

  Dz.onkeydown = function(aEvent) {
    // Don't intercept keyboard shortcuts
    if (aEvent.altKey
      || aEvent.ctrlKey
      || aEvent.metaKey
      || aEvent.shiftKey) {
      return;
    }
    if ( aEvent.keyCode == 37 // left arrow
      || aEvent.keyCode == 38 // up arrow
      || aEvent.keyCode == 33 // page up
    ) {
      aEvent.preventDefault();
      this.back();
    }
    if ( aEvent.keyCode == 39 // right arrow
      || aEvent.keyCode == 40 // down arrow
      || aEvent.keyCode == 34 // page down
    ) {
      aEvent.preventDefault();
      this.forward();
    }
    if (aEvent.keyCode == 35) { // end
      aEvent.preventDefault();
      this.goEnd();
    }
    if (aEvent.keyCode == 36) { // home
      aEvent.preventDefault();
      this.goStart();
    }
    if (aEvent.keyCode == 32) { // space
      aEvent.preventDefault();
      this.toggleContent();
    }
    if (aEvent.keyCode == 70) { // f
      aEvent.preventDefault();
      this.goFullscreen();
    }
    if (aEvent.keyCode == 79) { // o
      aEvent.preventDefault();
      this.toggleView();
    }
  }

  /* Touch Events */

  Dz.setupTouchEvents = function() {
    var orgX, newX;
    var tracking = false;

    var db = document.body;
    db.addEventListener("touchstart", start.bind(this), false);
    db.addEventListener("touchmove", move.bind(this), false);

    function start(aEvent) {
      aEvent.preventDefault();
      tracking = true;
      orgX = aEvent.changedTouches[0].pageX;
    }

    function move(aEvent) {
      if (!tracking) return;
      newX = aEvent.changedTouches[0].pageX;
      if (orgX - newX > 100) {
        tracking = false;
        this.forward();
      } else {
        if (orgX - newX < -100) {
          tracking = false;
          this.back();
        }
      }
    }
  }

  Dz.setupView = function() {
    document.body.addEventListener("click", function ( e ) {
      if (!Dz.html.classList.contains("view")) return;
      if (!e.target || e.target.nodeName != "SECTION") return;

      Dz.html.classList.remove("view");
      Dz.setCursor(Dz.slides.indexOf(e.target) + 1);
    }, false);
  }

  /* Adapt the size of the slides to the window */

  Dz.onresize = function() {
    var db = document.body;
    var sx = db.clientWidth / window.innerWidth;
    var sy = db.clientHeight / window.innerHeight;
    var transform = "scale(" + (1/Math.max(sx, sy)) + ")";

    db.style.MozTransform = transform;
    db.style.WebkitTransform = transform;
    db.style.OTransform = transform;
    db.style.msTransform = transform;
    db.style.transform = transform;
  }


  Dz.getNotes = function(aIdx) {
    var s = $("section:nth-of-type(" + aIdx + ")");
    var d = s.$("[role='note']");
    return d ? d.innerHTML : "";
  }

  Dz.onmessage = function(aEvent) {
    var argv = aEvent.data.split(" "), argc = argv.length;
    argv.forEach(function(e, i, a) { a[i] = decodeURIComponent(e) });
    var win = aEvent.source;
    if (argv[0] === "REGISTER" && argc === 1) {
      this.remoteWindows.push(win);
      this.postMsg(win, "REGISTERED", document.title, this.slides.length);
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
      return;
    }
    if (argv[0] === "BACK" && argc === 1)
      this.back();
    if (argv[0] === "FORWARD" && argc === 1)
      this.forward();
    if (argv[0] === "START" && argc === 1)
      this.goStart();
    if (argv[0] === "END" && argc === 1)
      this.goEnd();
    if (argv[0] === "TOGGLE_CONTENT" && argc === 1)
      this.toggleContent();
    if (argv[0] === "SET_CURSOR" && argc === 2)
      window.location.hash = "#" + argv[1];
    if (argv[0] === "GET_CURSOR" && argc === 1)
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
    if (argv[0] === "GET_NOTES" && argc === 1)
      this.postMsg(win, "NOTES", this.getNotes(this.idx));
  }

  Dz.toggleContent = function() {
    // If a Video is present in this new slide, play it.
    // If a Video is present in the previous slide, stop it.
    var s = $("section[aria-selected]");
    if (s) {
      var video = s.$("video");
      if (video) {
        if (video.ended || video.paused) {
          video.play();
        } else {
          video.pause();
        }
      }
    }
  }

  Dz.setCursor = function(aIdx, aStep) {
    // If the user change the slide number in the URL bar, jump
    // to this slide.
    aStep = (aStep != 0 && typeof aStep !== "undefined") ? "." + aStep : ".0";
    window.location.hash = "#" + aIdx + aStep;
  }

  Dz.onhashchange = function() {
    var cursor = window.location.hash.split("#"),
        newidx = 1,
        newstep = 0;
    if (cursor.length == 2) {
      newidx = ~~cursor[1].split(".")[0];
      newstep = ~~cursor[1].split(".")[1];
      if (newstep > Dz.slides[newidx - 1].$$('.incremental > *').length) {
        newstep = 0;
        newidx++;
      }
    }
    this.setProgress(newidx, newstep);
    if (newidx != this.idx) {
      this.setSlide(newidx);
    }
    if (newstep != this.step) {
      this.setIncremental(newstep);
    }
    for (var i = 0; i < this.remoteWindows.length; i++) {
      this.postMsg(this.remoteWindows[i], "CURSOR", this.idx + "." + this.step);
    }
  }

  Dz.back = function() {
    if (this.idx == 1 && this.step == 0) {
      return;
    }
    if (this.step == 0) {
      this.setCursor(this.idx - 1,
                     this.slides[this.idx - 2].$$('.incremental > *').length);
    } else {
      this.setCursor(this.idx, this.step - 1);
    }
  }

  Dz.forward = function() {
    if (this.idx >= this.slides.length &&
        this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
        return;
    }
    if (this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
      this.setCursor(this.idx + 1, 0);
    } else {
      this.setCursor(this.idx, this.step + 1);
    }
  }

  Dz.goStart = function() {
    this.setCursor(1, 0);
  }

  Dz.goEnd = function() {
    var lastIdx = this.slides.length;
    var lastStep = this.slides[lastIdx - 1].$$('.incremental > *').length;
    this.setCursor(lastIdx, lastStep);
  }

  Dz.toggleView = function() {
    this.html.classList.toggle("view");

    if (this.html.classList.contains("view")) {
      $("section[aria-selected]").scrollIntoView(true);
    }
  }

  Dz.setSlide = function(aIdx) {
    this.idx = aIdx;
    var old = $("section[aria-selected]");
    var next = $("section:nth-of-type("+ this.idx +")");
    if (old) {
      old.removeAttribute("aria-selected");
      var video = old.$("video");
      if (video) {
        video.pause();
      }
    }
    if (next) {
      next.setAttribute("aria-selected", "true");
      if (this.html.classList.contains("view")) {
        next.scrollIntoView();
      }
      var video = next.$("video");
      if (video && !!+this.params.autoplay) {
        video.play();
      }
    } else {
      // That should not happen
      this.idx = -1;
      // console.warn("Slide doesn't exist.");
    }
  }

  Dz.setIncremental = function(aStep) {
    this.step = aStep;
    var old = this.slides[this.idx - 1].$('.incremental > *[aria-selected]');
    if (old) {
      old.removeAttribute('aria-selected');
    }
    var incrementals = $$('.incremental');
    if (this.step <= 0) {
      $$.forEach(incrementals, function(aNode) {
        aNode.removeAttribute('active');
      });
      return;
    }
    var next = this.slides[this.idx - 1].$$('.incremental > *')[this.step - 1];
    if (next) {
      next.setAttribute('aria-selected', true);
      next.parentNode.setAttribute('active', true);
      var found = false;
      $$.forEach(incrementals, function(aNode) {
        if (aNode != next.parentNode)
          if (found)
            aNode.removeAttribute('active');
          else
            aNode.setAttribute('active', true);
        else
          found = true;
      });
    } else {
      setCursor(this.idx, 0);
    }
    return next;
  }

  Dz.goFullscreen = function() {
    var html = $('html'),
        requestFullscreen = html.requestFullscreen || html.requestFullScreen || html.mozRequestFullScreen || html.webkitRequestFullScreen;
    if (requestFullscreen) {
      requestFullscreen.apply(html);
    }
  }
  
  Dz.setProgress = function(aIdx, aStep) {
    var slide = $("section:nth-of-type("+ aIdx +")");
    if (!slide)
      return;
    var steps = slide.$$('.incremental > *').length + 1,
        slideSize = 100 / (this.slides.length - 1),
        stepSize = slideSize / steps;
    this.progressBar.style.width = ((aIdx - 1) * slideSize + aStep * stepSize) + '%';
  }
  
  Dz.postMsg = function(aWin, aMsg) { // [arg0, [arg1...]]
    aMsg = [aMsg];
    for (var i = 2; i < arguments.length; i++)
      aMsg.push(encodeURIComponent(arguments[i]));
    aWin.postMessage(aMsg.join(" "), "*");
  }
  
  function init() {
    Dz.init();
    window.onkeydown = Dz.onkeydown.bind(Dz);
    window.onresize = Dz.onresize.bind(Dz);
    window.onhashchange = Dz.onhashchange.bind(Dz);
    window.onmessage = Dz.onmessage.bind(Dz);
  }

  window.onload = init;
</script>


<script> // Helpers
  if (!Function.prototype.bind) {
    Function.prototype.bind = function (oThis) {

      // closest thing possible to the ECMAScript 5 internal IsCallable
      // function 
      if (typeof this !== "function")
      throw new TypeError(
        "Function.prototype.bind - what is trying to be fBound is not callable"
      );

      var aArgs = Array.prototype.slice.call(arguments, 1),
          fToBind = this,
          fNOP = function () {},
          fBound = function () {
            return fToBind.apply( this instanceof fNOP ? this : oThis || window,
                   aArgs.concat(Array.prototype.slice.call(arguments)));
          };

      fNOP.prototype = this.prototype;
      fBound.prototype = new fNOP();

      return fBound;
    };
  }

  var $ = (HTMLElement.prototype.$ = function(aQuery) {
    return this.querySelector(aQuery);
  }).bind(document);

  var $$ = (HTMLElement.prototype.$$ = function(aQuery) {
    return this.querySelectorAll(aQuery);
  }).bind(document);

  $$.forEach = function(nodeList, fun) {
    Array.prototype.forEach.call(nodeList, fun);
  }

</script>
<!-- vim: set fdm=marker: }}} -->
</body>
</html>
